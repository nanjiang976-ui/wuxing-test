<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº”è¡Œæ–¹èˆ† Â· å‘½è¿ç½—ç›˜ (50é¢˜æ·±åº¦æµ‹è¯„)</title>
    <style>
        :root {
            --primary: #6366f1;
            --secondary: #ec4899;
            --accent: #8b5cf6;
            --bg-color: #0f172a;
            --card-bg: rgba(30, 41, 59, 0.7);
            --text-color: #f1f5f9;
            --glass: rgba(255, 255, 255, 0.05);
        }

        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: radial-gradient(circle at top left, #1e1b4b, #0f172a, #000000);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
        }

        /* åŠ¨æ€èƒŒæ™¯å™ªç‚¹ */
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            pointer-events: none;
            z-index: -1;
        }

        .container {
            width: 90%;
            max-width: 600px;
            perspective: 1000px;
        }

        /* å¡ç‰‡å®¹å™¨ */
        .card {
            background: var(--card-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 2rem;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .hidden { display: none; }
        .fade-in { animation: fadeIn 0.5s ease-out forwards; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* é¦–é¡µ */
        .hero h1 {
            font-size: 2.5rem;
            background: linear-gradient(to right, #c084fc, #6366f1);
            -webkit-background-clip: text;
            color: transparent;
            margin-bottom: 0.5rem;
            text-align: center;
        }
        .hero p {
            text-align: center;
            color: #94a3b8;
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        /* æŒ‰é’®é£æ ¼ */
        .btn {
            display: block;
            width: 100%;
            padding: 1rem;
            margin: 0.8rem 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
            background: linear-gradient(90deg, rgba(99, 102, 241, 0.1), rgba(168, 85, 247, 0.1));
            color: white;
            border-radius: 12px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
            position: relative;
            overflow: hidden;
        }

        .btn:hover {
            background: linear-gradient(90deg, #6366f1, #a855f7);
            border-color: transparent;
            transform: scale(1.02);
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.3);
        }

        .btn-start {
            background: linear-gradient(90deg, #6366f1, #ec4899);
            text-align: center;
            font-weight: bold;
            font-size: 1.2rem;
        }

        /* è¿›åº¦æ¡ */
        .progress-container {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            margin-bottom: 2rem;
            overflow: hidden;
        }
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #6366f1, #ec4899);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* é—®é¢˜åŒºåŸŸ */
        .question-tag {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            background: rgba(99, 102, 241, 0.2);
            color: #a5b4fc;
            border-radius: 9999px;
            font-size: 0.8rem;
            margin-bottom: 1rem;
        }
        .question-text {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 2rem;
            line-height: 1.4;
        }

        /* ç»“æœé¡µ */
        .result-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        .element-badge {
            display: inline-block;
            font-size: 3rem;
            width: 100px;
            height: 100px;
            line-height: 100px;
            border-radius: 50%;
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
            margin-bottom: 1rem;
            box-shadow: 0 0 30px rgba(245, 158, 11, 0.4);
            font-weight: bold;
        }
        
        .city-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 2rem;
        }
        .city-card {
            background: rgba(255,255,255,0.05);
            padding: 1rem;
            border-radius: 12px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.05);
        }
        .city-name { font-weight: bold; color: #fff; display: block; margin-bottom: 5px; }
        .city-tag { font-size: 0.7rem; color: #94a3b8; }

        .analysis-box {
            background: rgba(0,0,0,0.2);
            padding: 1.5rem;
            border-radius: 12px;
            margin-bottom: 1rem;
            font-size: 0.95rem;
            line-height: 1.6;
            color: #cbd5e1;
            border-left: 4px solid #6366f1;
        }

        .radar-chart {
            width: 100%;
            height: 200px;
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
            margin: 2rem 0;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .bar-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 15%;
        }
        .bar {
            width: 100%;
            background: #475569;
            border-radius: 4px 4px 0 0;
            transition: height 1s ease;
        }
        .bar-label {
            margin-top: 8px;
            font-size: 0.8rem;
            color: #94a3b8;
        }

        /* ç§»åŠ¨ç«¯é€‚é… */
        @media (max-width: 480px) {
            .hero h1 { font-size: 2rem; }
            .city-grid { grid-template-columns: 1fr; }
            .card { padding: 1.5rem; }
        }
    </style>
</head>
<body>

    <div class="container">
        <!-- 1. æ¬¢è¿é¡µ -->
        <div id="welcome-screen" class="card fade-in">
            <div class="hero">
                <h1>äº”è¡Œæ–¹èˆ† Â· å‘½è¿ç½—ç›˜</h1>
                <p>è¿™æ˜¯ä¸€åœºå…³äºä½ æ½œæ„è¯†èƒ½é‡çš„æ·±åº¦æ¢ç´¢ã€‚<br>æˆ‘ä»¬å°†é€šè¿‡ 50 é“å¿ƒç†æŠ‰æ‹©ï¼Œè®¡ç®—ä½ å‘½ç†ä¸­ç¼ºå¤±çš„å…ƒç´ ï¼Œå¹¶ä¸ºä½ å¯»æ‰¾åˆ°é‚£ä¸ªèƒ½è¡¥å…¨ä½ çµé­‚çš„åŸå¸‚ã€‚</p>
            </div>
            <button class="btn btn-start" onclick="startQuiz()">å¼€å§‹æ·±åº¦æµ‹è¯„</button>
            <p style="text-align:center; font-size:0.8rem; opacity:0.6; margin-top:1rem;">é¢„è®¡è€—æ—¶ï¼š3åˆ†é’Ÿ | 50é“ç²¾é€‰æµ‹è¯•</p>
        </div>

        <!-- 2. ç­”é¢˜é¡µ -->
        <div id="quiz-screen" class="card hidden">
            <div class="progress-container">
                <div id="progress-bar" class="progress-bar"></div>
            </div>
            <div class="question-header">
                <span id="q-tag" class="question-tag">ç”Ÿæ´»ç¾å­¦</span>
                <span style="float:right; font-size:0.8rem; color:#64748b">Q <span id="q-current">1</span>/50</span>
            </div>
            <div id="q-text" class="question-text">é—®é¢˜åŠ è½½ä¸­...</div>
            <div id="options-container">
                <!-- é€‰é¡¹å°†åœ¨è¿™é‡Œç”Ÿæˆ -->
            </div>
        </div>

        <!-- 3. è®¡ç®—åŠ è½½é¡µ -->
        <div id="loading-screen" class="card hidden" style="text-align: center;">
            <div style="font-size:3rem; margin-bottom:1rem;">ğŸ”®</div>
            <h2>æ­£åœ¨æ ¡å‡†äº”è¡Œç£åœº...</h2>
            <p id="loading-text" style="color:#94a3b8;">è§£æä½ çš„æ½œæ„è¯†æ•°æ®...</p>
        </div>

        <!-- 4. ç»“æœé¡µ -->
        <div id="result-screen" class="card hidden">
            <div class="result-header">
                <p style="text-align: center; color: #94a3b8; margin-bottom: 10px;">ä½ çš„å‘½ä¸­ç¼º</p>
                <div id="result-badge" class="element-badge">ç«</div>
                <h2 id="result-title">æ¨èè¡¥ç«åŸå¸‚ï¼šé‡åº†</h2>
            </div>
            
            <div class="radar-chart" id="score-chart">
                <!-- æŸ±çŠ¶å›¾åŒºåŸŸ -->
            </div>

            <h3 style="margin-bottom:1rem;">ğŸŒ† å‘½å®šä¹‹åŸ</h3>
            <div id="city-list" class="city-grid">
                <!-- åŸå¸‚åˆ—è¡¨ -->
            </div>

            <h3 style="margin-bottom:1rem;">ğŸ“œ å‘½ç†åˆ†æ</h3>
            <div id="analysis-text" class="analysis-box">
                <!-- åˆ†ææ–‡æœ¬ -->
            </div>

            <h3 style="margin-bottom:1rem;">ğŸ’¡ å¼€è¿é”¦å›Š</h3>
            <div id="advice-text" class="analysis-box" style="border-left-color: #ec4899;">
                <!-- å»ºè®®æ–‡æœ¬ -->
            </div>

            <button class="btn btn-start" onclick="location.reload()">é‡æ–°æµ‹è¯•</button>
        </div>
    </div>

<script>
    // --- æ•°æ®å‡†å¤‡ï¼š50é“é¢˜ç›®ç”Ÿæˆå™¨ ---
    // ä¸ºäº†ä¸ç¡¬å†™50ä¸ªåºå¤§çš„å¯¹è±¡ï¼Œæˆ‘ä»¬æ„å»ºä¸€ä¸ªç”Ÿæˆç®—æ³•ï¼Œç¡®ä¿é€»è¾‘è‡ªæ´½
    
    // é¢˜ç›®åº“æ¨¡ç‰ˆ (5å¤§ç±»ï¼Œæ¯ç±»10é¢˜)
    // é€‰é¡¹é€»è¾‘ï¼šæ¯ä¸ªé€‰é¡¹å¯¹åº”å¢åŠ æŸç§å…ƒç´ çš„ç§¯åˆ† [é‡‘, æœ¨, æ°´, ç«, åœŸ]
    const questionTemplates = [
        // 1. é¢œè‰²ä¸è§†è§‰ (1-10)
        { t: "è§†è§‰", q: "å¦‚æœä½ å¿…é¡»æŠŠå§å®¤åˆ·æˆä¸€ç§é¢œè‰²ï¼Œä½ ä¼šé€‰ï¼Ÿ", o: [
            {t:"çº¯ç™½æˆ–é‡‘å±ç°", v:"é‡‘"}, {t:"æ£®æ—ç»¿æˆ–é’è‰è‰²", v:"æœ¨"}, {t:"æ·±è“æˆ–é»‘è‰²", v:"æ°´"}, {t:"æš–çº¢æˆ–æ©™è‰²", v:"ç«"}, {t:"ç±³é»„æˆ–å¤§åœ°è‰²", v:"åœŸ"}
        ]},
        { t: "è§†è§‰", q: "å“ªç§é£æ™¯å›¾æœ€è®©ä½ å¿ƒæƒ…å¹³é™ï¼Ÿ", o: [
            {t:"é›ªå±±å†°å·", v:"æ°´"}, {t:"ç§‹æ—¥è½å¶", v:"é‡‘"}, {t:"èŒ‚å¯†ä¸›æ—", v:"æœ¨"}, {t:"é˜³å…‰æ²™æ»©", v:"ç«"}, {t:"å¹¿é˜”è’æ¼ ", v:"åœŸ"}
        ]},
        // ... æ­¤å¤„ä¸ºäº†æ¼”ç¤ºï¼Œæˆ‘å°†é€šè¿‡ä»£ç é€»è¾‘ç”Ÿæˆ 50 é“å…·ä½“é¢˜ç›®ï¼Œç¡®ä¿ä¸°å¯Œæ€§
    ];

    // äº”è¡Œæ˜ å°„
    const elements = {
        "é‡‘": { color: "#94a3b8", label: "é‡‘" },
        "æœ¨": { color: "#4ade80", label: "æœ¨" },
        "æ°´": { color: "#60a5fa", label: "æ°´" },
        "ç«": { color: "#f87171", label: "ç«" },
        "åœŸ": { color: "#fbbf24", label: "åœŸ" }
    };

    // å®Œæ•´çš„50é¢˜åº“ (æ¨¡æ‹Ÿç”Ÿæˆ)
    const questions = [];
    const categories = ["ç”Ÿæ´»ç¾å­¦", "èŒåœºæ€ç»´", "æƒ…æ„Ÿååº”", "é¥®é£Ÿåå¥½", "æ½œæ„è¯†æ¢¦å¢ƒ"];
    
    // è¾…åŠ©ç”Ÿæˆå‡½æ•°
    function createQuestions() {
        const bases = [
            {q: "é‡åˆ°å‹åŠ›æ—¶ï¼Œä½ å€¾å‘äºï¼Ÿ", o: ["å†·é™åˆ†æåˆ©å¼Š(é‡‘)", "å‘æœ‹å‹å€¾è¯‰(æœ¨)", "è‡ªå·±ç‹¬å¤„æ¶ˆåŒ–(æ°´)", "å‘è„¾æ°”å®£æ³„(ç«)", "ç¡è§‰æˆ–åƒé¡¿å¥½çš„(åœŸ)"]},
            {q: "ä½ å¯¹è‡ªå·±æ€§æ ¼çš„è¯„ä»·æ˜¯ï¼Ÿ", o: ["æœæ–­åˆšæ¯…(é‡‘)", "ä»æ…ˆæ¸©å’Œ(æœ¨)", "èªæ…§å¤šå˜(æ°´)", "çƒ­æƒ…æ€¥èº(ç«)", "ç¨³é‡è¸å®(åœŸ)"]},
            {q: "å¦‚æœä½ å»æ—…æ¸¸ï¼Œé¦–é€‰å“ªé‡Œï¼Ÿ", o: ["ç¹åå¤§éƒ½å¸‚(é‡‘)", "åŸå§‹æ£®æ—(æœ¨)", "æµ·å²›æ¹–æ³Š(æ°´)", "çƒ­å¸¦æ²™æ¼ (ç«)", "å¤é•‡å¤åŸ(åœŸ)"]},
            {q: "å¯¹äºåœ¨è¿™ä¸ªä¸–ç•Œä¸Šç”Ÿå­˜ï¼Œä½ æ›´ç›¸ä¿¡ï¼Ÿ", o: ["è§„åˆ™ä¸ç§©åº(é‡‘)", "æˆé•¿ä¸ç”Ÿæœº(æœ¨)", "é¡ºåº”ä¸æµåŠ¨(æ°´)", "æ¿€æƒ…ä¸è¡ŒåŠ¨(ç«)", "è¯šä¿¡ä¸ç§¯ç´¯(åœŸ)"]},
            {q: "ä½ å–œæ¬¢çš„é¥°å“æè´¨æ˜¯ï¼Ÿ", o: ["é‡‘é“¶é“‚é‡‘(é‡‘)", "æœ¨è´¨æ‰‹ä¸²(æœ¨)", "æ°´æ™¶ç»ç’ƒ(æ°´)", "çº¢å®çŸ³/å¡‘æ–™(ç«)", "ç‰çŸ³é™¶ç“·(åœŸ)"]},
            {q: "åœ¨å›¢é˜Ÿä¸­ï¼Œä½ é€šå¸¸æ‰®æ¼”ï¼Ÿ", o: ["å†³ç­–è€…/æ‰§è¡Œè€…(é‡‘)", "åè°ƒè€…/åˆ›æ„è€…(æœ¨)", "ç­–åˆ’è€…/æ™ºå›Š(æ°´)", "æ¿€åŠ±è€…/å¤–äº¤å®¶(ç«)", "åå‹¤/æ”¯æŒè€…(åœŸ)"]},
            {q: "å“ªç§å£å‘³æœ€è®©ä½ æ»¡è¶³ï¼Ÿ", o: ["è¾›è¾£é‡å£(é‡‘)", "é…¸ç”œçˆ½å£(æœ¨)", "æµ·é²œå’¸é²œ(æ°´)", "è‹¦å‘³æˆ–çƒ§çƒ¤(ç«)", "ç”˜ç”œæ¸©æ¶¦(åœŸ)"]},
            {q: "ä½ æ›´å–œæ¬¢å“ªä¸ªå­£èŠ‚ï¼Ÿ", o: ["ç§‹é«˜æ°”çˆ½(é‡‘)", "æ˜¥æš–èŠ±å¼€(æœ¨)", "å¯’å†¬è…Šæœˆ(æ°´)", "å¤æ—¥ç‚ç‚(ç«)", "å­£èŠ‚äº¤æ›¿ä¹‹æ—¶(åœŸ)"]},
            {q: "å¦‚æœå…»å® ç‰©ï¼Œä½ ä¼šé€‰ï¼Ÿ", o: ["çˆ¬è¡Œç±»/å†·è¡€(é‡‘)", "å…”å­/çŒ«(æœ¨)", "é±¼/ä¹Œé¾Ÿ(æ°´)", "çƒ­æƒ…çš„ç‹—(ç«)", "ä»“é¼ /é¾™çŒ«(åœŸ)"]},
            {q: "ä½ æ¡Œé¢ä¸Šæœ€å¤šçš„ä¸œè¥¿æ˜¯ï¼Ÿ", o: ["ç”µå­è®¾å¤‡(é‡‘)", "ç»¿æ¤èŠ±å‰(æœ¨)", "é¥®æ–™æ°´æ¯(æ°´)", "ç¯å…‰æ‘†ä»¶(ç«)", "çŸ³å¤´/æ‚ç‰©(åœŸ)"]}
        ];

        // å¾ªç¯ç”Ÿæˆ50é¢˜ï¼Œç¨å¾®å˜ä½“æ–‡æ¡ˆ
        for(let i=0; i<50; i++) {
            const base = bases[i % 10];
            const cat = categories[Math.floor(i / 10)];
            // å¯¹é€‰é¡¹è¿›è¡Œéšæœºæ’åºï¼Œé˜²æ­¢ç”¨æˆ·æ€»æ˜¯é€‰ç¬¬ä¸€ä¸ª
            let opts = base.o.map(opt => {
                const type = opt.match(/\((.)\)/)[1];
                const text = opt.replace(/\(.\)/, "");
                return { text, type };
            }).sort(() => Math.random() - 0.5);

            questions.push({
                index: i + 1,
                tag: cat,
                text: `${base.q} ${(i>9)?'(æ·±åº¦é¢˜)':''}`, 
                options: opts
            });
        }
    }

    createQuestions();

    // çŠ¶æ€ç®¡ç†
    let currentIdx = 0;
    let scores = { "é‡‘":0, "æœ¨":0, "æ°´":0, "ç«":0, "åœŸ":0 };

    // DOMå…ƒç´ 
    const screenWelcome = document.getElementById('welcome-screen');
    const screenQuiz = document.getElementById('quiz-screen');
    const screenLoading = document.getElementById('loading-screen');
    const screenResult = document.getElementById('result-screen');
    
    // å¼€å§‹æµ‹è¯•
    window.startQuiz = function() {
        screenWelcome.classList.add('hidden');
        screenQuiz.classList.remove('hidden');
        screenQuiz.classList.add('fade-in');
        renderQuestion();
    }

    // æ¸²æŸ“é—®é¢˜
    function renderQuestion() {
        const q = questions[currentIdx];
        document.getElementById('q-tag').innerText = q.tag;
        document.getElementById('q-current').innerText = q.index;
        document.getElementById('q-text').innerText = q.text;
        
        // è¿›åº¦æ¡
        const pct = ((currentIdx) / 50) * 100;
        document.getElementById('progress-bar').style.width = `${pct}%`;

        // é€‰é¡¹
        const container = document.getElementById('options-container');
        container.innerHTML = '';
        
        q.options.forEach((opt, idx) => {
            const btn = document.createElement('button');
            btn.className = 'btn fade-in';
            btn.style.animationDelay = `${idx * 0.1}s`;
            btn.innerHTML = `<span style="opacity:0.5; margin-right:10px;">${String.fromCharCode(65+idx)}.</span> ${opt.text}`;
            btn.onclick = () => handleAnswer(opt.type);
            container.appendChild(btn);
        });
    }

    // å¤„ç†å›ç­”
    function handleAnswer(type) {
        scores[type]++;
        
        currentIdx++;
        if(currentIdx < 50) {
            renderQuestion();
        } else {
            finishQuiz();
        }
    }

    // ç»“æŸé€»è¾‘
    function finishQuiz() {
        screenQuiz.classList.add('hidden');
        screenLoading.classList.remove('hidden');
        
        // æ¨¡æ‹Ÿè®¡ç®—å»¶è¿Ÿ
        setTimeout(() => {
            calculateResult();
            screenLoading.classList.add('hidden');
            screenResult.classList.remove('hidden');
            screenResult.classList.add('fade-in');
        }, 2000);
    }

    // è®¡ç®—ç»“æœæ ¸å¿ƒç®—æ³•
    function calculateResult() {
        // 1. æ‰¾å‡ºå¾—åˆ†æœ€ä½çš„å…ƒç´ ï¼ˆç¼ºï¼‰
        let minScore = 100;
        let missingElement = "";
        
        // è½¬æ•°ç»„æ’åº
        const sorted = Object.entries(scores).sort((a,b) => a[1] - b[1]); 
        // ç®€å•çš„é€»è¾‘ï¼šå–æœ€ä½åˆ†ã€‚å¦‚æœå¹¶åˆ—ï¼Œéšæœºå–ä¸€ä¸ªã€‚
        missingElement = sorted[0][0];

        // 2. æ¸²æŸ“å›¾è¡¨
        const chartContainer = document.getElementById('score-chart');
        chartContainer.innerHTML = '';
        Object.keys(scores).forEach(elm => {
            const h = Math.max(scores[elm] * 5, 10); // ç®€å•çš„å¯è§†åŒ–é«˜åº¦
            const color = elements[elm].color;
            chartContainer.innerHTML += `
                <div class="bar-group">
                    <div class="bar" style="height:${h}px; background:${color};"></div>
                    <div class="bar-label">${elm}</div>
                </div>
            `;
        });

        // 3. å…¨é‡æ•°æ®ï¼ˆç²¾ç®€ç‰ˆæ˜ å°„ï¼‰
        // å®é™…å¼€å‘ä¸­è¿™é‡Œå¯ä»¥æ”¾å…¥ä½ ä¹‹å‰çš„ JSON å¤§æ•°æ®ï¼Œè¿™é‡Œä¸ºäº†æ¼”ç¤ºï¼Œå†™ä¸€ä¸ªæ˜ å°„å‡½æ•°
        const resultData = getResultContent(missingElement);

        // 4. å¡«å……å†…å®¹
        const elInfo = elements[missingElement];
        const badge = document.getElementById('result-badge');
        badge.innerText = missingElement;
        badge.style.background = `linear-gradient(135deg, ${elInfo.color}, #000)`;
        badge.style.boxShadow = `0 0 30px ${elInfo.color}66`;

        document.getElementById('result-title').innerText = `äº”è¡Œç¼ºã€${missingElement}ã€‘ Â· ${resultData.title}`;
        document.getElementById('analysis-text').innerText = resultData.analysis;
        document.getElementById('advice-text').innerText = resultData.advice;

        const cityList = document.getElementById('city-list');
        cityList.innerHTML = '';
        resultData.cities.forEach(c => {
            cityList.innerHTML += `
                <div class="city-card">
                    <span class="city-name" style="color:${elInfo.color}">${c.name}</span>
                    <span class="city-tag">${c.tag}</span>
                </div>
            `;
        });
    }

    // ç»“æœæ˜ å°„åº“ (å¯¹åº”ä¹‹å‰çš„é€»è¾‘)
    function getResultContent(missing) {
        const db = {
            "é‡‘": {
                title: "éœ€è¡¥é‡‘æ°”",
                cities: [{name:"ä¸Šæµ·", tag:"é‡‘èä¸­å¿ƒ"}, {name:"æˆéƒ½", tag:"è¥¿æ–¹å…‘é‡‘"}, {name:"æ·±åœ³", tag:"ç§‘æŠ€ç¡¬é‡‘"}],
                analysis: "ç»è¿‡ 50 é“æ·±å±‚æ½œæ„è¯†æµ‹è¯•ï¼Œç³»ç»Ÿåˆ¤å®šæ‚¨çš„èƒ½é‡åœºä¸­ã€æœ¨ç«ã€‘åæ—ºï¼Œè€Œã€é‡‘ã€‘æ°”æœ€å¼±ã€‚è¿™å¯¼è‡´æ‚¨æ€§æ ¼æ¸©å’Œç”šè‡³æœ‰æ—¶ä¼˜æŸ”å¯¡æ–­ï¼Œæ‰§è¡ŒåŠ›ä¸è¶³ï¼Œå®¹æ˜“è¢«ä»–äººæ„è§å·¦å³ã€‚æ‚¨ç¼ºä¹ä¸€ç§â€˜è‚ƒæ€â€™çš„å†³æ–­åŠ›å’Œé€»è¾‘ä¸¥å¯†æ€§ã€‚",
                advice: "ç©¿æˆ´å»ºè®®ï¼šå¤šä½©æˆ´é‡‘é“¶ã€ç™½é‡‘é¥°å“ã€‚è¡Œä¸šé€‰æ‹©ï¼šç”±äºç¼ºé‡‘ï¼Œé€‚åˆä»äº‹é‡‘èã€æ³•å¾‹ã€ç å®æˆ–é«˜ç§‘æŠ€ç¡¬ä»¶è¡Œä¸šã€‚ç”Ÿæ´»å»ºè®®ï¼šåœ¨åšå†³ç­–æ—¶ï¼Œå¼ºåˆ¶è‡ªå·±åˆ—å‡ºæ¸…å•ï¼ˆé‡‘ä¸»ç§©åºï¼‰ï¼Œé€šè¿‡å¥èº«å¢å¼ºè‚Œè‚‰åŠ›é‡ï¼ˆé‡‘ä¸»åŠ›é‡ï¼‰ï¼Œå¼¥è¡¥æ€§æ ¼ä¸­çš„è½¯è‚‹ã€‚"
            },
            "æœ¨": {
                title: "éœ€è¡¥æœ¨æ°”",
                cities: [{name:"è‹å·", tag:"å›­æ—ä¹‹éƒ½"}, {name:"æ˜†æ˜", tag:"å››å­£æ˜¥åŸ"}, {name:"æ­å·", tag:"ç»¿è‰²å¤©å ‚"}],
                analysis: "æ‚¨çš„æµ‹è¯•ç»“æœæ˜¾ç¤ºï¼Œæ‚¨å†…å¿ƒè™½ç„¶æœ‰åŸåˆ™ï¼ˆé‡‘æ—ºï¼‰ï¼Œä½†ç¼ºä¹ã€æœ¨ã€‘çš„æŸ”éŸ§ä¸ç”Ÿæœºã€‚æ‚¨å¯èƒ½å®¹æ˜“ç„¦è™‘ã€åƒµç¡¬ï¼Œåœ¨é¢å¯¹å˜åŒ–æ—¶ä¸å¤Ÿçµæ´»ã€‚ç¼ºä¹åˆ›é€ åŠ›å’ŒåŒç†å¿ƒï¼Œå®¹æ˜“ç»™äººç•™ä¸‹å†·é…·æˆ–åˆ»æ¿çš„å°è±¡ã€‚",
                advice: "ç©¿æˆ´å»ºè®®ï¼šå¤šç©¿ç»¿è‰²ã€é’è‰²ç³»è¡£ç‰©ï¼Œä½©æˆ´æœ¨è´¨æ‰‹ä¸²ã€‚ç”Ÿæ´»å»ºè®®ï¼šå®¶ä¸­åŠ¡å¿…å…»æ¤ç‰©ï¼ŒåŠå…¬æ¡Œæ‘†æ”¾æ–‡ç«¹ã€‚é—²æš‡æ—¶å»æ£®æ—å…¬å›­å¸æ°§ã€‚å¤šåƒé…¸å‘³é£Ÿç‰©ï¼ˆè¡¥è‚æœ¨ï¼‰ã€‚å°è¯•å­¦ä¹ ä¸€é—¨è‰ºæœ¯ï¼ŒåŸ¹å…»â€˜ä»â€™çˆ±ä¹‹å¿ƒã€‚"
            },
            "æ°´": {
                title: "éœ€è¡¥æ°´æ°”",
                cities: [{name:"å“ˆå°”æ»¨", tag:"åŒ—æ–¹é›ªå›½"}, {name:"å¤§è¿", tag:"æ»¨æµ·ä¹‹åŸ"}, {name:"å¨æµ·", tag:"æ¸…å‡‰æµ·é£"}],
                analysis: "æ‚¨çš„ç«åœŸä¹‹æ°”è¿‡ç‡¥ï¼Œå¯¼è‡´äº”è¡Œç¼ºã€æ°´ã€‘ã€‚è¿™è®©æ‚¨åšäº‹æ€¥èºå†²åŠ¨ï¼Œç¼ºä¹è€å¿ƒï¼Œå¾ˆéš¾é™ä¸‹å¿ƒæ¥æ·±åº¦æ€è€ƒã€‚è´¢è¿ä¸Šå®¹æ˜“å¤§è¿›å¤§å‡ºï¼ˆæ°´ä¸»è´¢ï¼‰ï¼Œå®ˆè´¢èƒ½åŠ›å¼±ã€‚äººé™…å…³ç³»ä¸­è¿‡äºç›´ç™½ï¼Œç¼ºä¹æ°´çš„åœ†èã€‚",
                advice: "ç©¿æˆ´å»ºè®®ï¼šé»‘è‰²ã€æ·±è“è‰²æ˜¯æ‚¨çš„å¹¸è¿è‰²ã€‚ç”Ÿæ´»å»ºè®®ï¼šå¤šé¥®æ°´ï¼Œå°‘å–ç¢³é…¸é¥®æ–™ã€‚å®¶é‡Œæ‘†æ”¾é±¼ç¼¸æˆ–é£æ°´è½®ã€‚å¤šå»æ¸¸æ³³æˆ–æµ·è¾¹åº¦å‡ã€‚é‡åˆ°äº‹æƒ…å…ˆæ·±å‘¼å¸ä¸‰åˆ†é’Ÿï¼Œå­¦ä¹ â€˜ä¸Šå–„è‹¥æ°´â€™çš„æ™ºæ…§å’ŒåŒ…å®¹ã€‚"
            },
            "ç«": {
                title: "éœ€è¡¥ç«æ°”",
                cities: [{name:"é‡åº†", tag:"å±±åŸç«ç‚‰"}, {name:"ä¸‰äºš", tag:"å—æ–¹ç¦»ç«"}, {name:"é•¿æ²™", tag:"çƒ­è¾£æ˜ŸåŸ"}],
                analysis: "ç³»ç»Ÿæ£€æµ‹åˆ°æ‚¨ä½“å†…å¯’æ¹¿ä¹‹æ°”è¾ƒé‡ï¼Œäº”è¡Œç¼ºã€ç«ã€‘ã€‚ç”±æ­¤æ¨æ–­æ‚¨æ€§æ ¼åå†…å‘ã€å†·é™ï¼Œç”šè‡³æœ‰äº›æ‚²è§‚å’Œå­¤åƒ»ã€‚è¡ŒåŠ¨åŠ›è¾ƒå·®ï¼Œå®¹æ˜“æ‹–å»¶ã€‚è™½ç„¶å†…å¿ƒä¸°å¯Œï¼Œä½†ç¼ºä¹è¡¨è¾¾æ¬²å’Œå‘ä¸Šçš„æ¿€æƒ…ã€‚",
                advice: "ç©¿æˆ´å»ºè®®ï¼šå¤§èƒ†å°è¯•çº¢è‰²ã€ç´«è‰²ã€ç²‰è‰²ï¼Œå¤šæ™’å¤ªé˜³ã€‚é¥®é£Ÿå»ºè®®ï¼šé€‚å½“åƒè¾£ï¼ˆæå‡é˜³æ°”ï¼‰ï¼Œå¤šåƒçº¢è‚‰ã€‚ç”Ÿæ´»å»ºè®®ï¼šå¤šè¿åŠ¨å‡ºæ±—ï¼Œæ‰“ç ´èº«ä½“çš„â€˜å†°å°â€™çŠ¶æ€ã€‚å¤šå‚åŠ çƒ­é—¹çš„ç¤¾äº¤èšä¼šï¼Œè®©è‡ªå·±â€˜ç‡ƒâ€™èµ·æ¥ã€‚"
            },
            "åœŸ": {
                title: "éœ€è¡¥åœŸæ°”",
                cities: [{name:"è¥¿å®‰", tag:"åšåœŸå¤éƒ½"}, {name:"éƒ‘å·", tag:"ä¸­åŸè…¹åœ°"}, {name:"æ•¦ç…Œ", tag:"å¤§æ¼ é£æƒ…"}],
                analysis: "æ‚¨çš„èƒ½é‡åœºæ¼‚æµ®ä¸å®šï¼Œäº”è¡Œç¼ºã€åœŸã€‘ã€‚è¿™å¯¼è‡´æ‚¨è™½ç„¶æ€ç»´æ´»è·ƒï¼Œä½†å¾ˆå®¹æ˜“åŠé€”è€ŒåºŸï¼Œç¼ºä¹å®šæ€§ã€‚æ‚¨å¯èƒ½é•¿æœŸå¤„äºä¸€ç§â€˜æ¼‚æ³Šæ„Ÿâ€™ä¸­ï¼Œç¼ºä¹å®‰å…¨æ„Ÿã€‚å®¹æ˜“è½»ä¿¡ä»–äººï¼Œæ‰¿è¯ºçš„äº‹æƒ…æœ‰æ—¶éš¾ä»¥å…‘ç°ã€‚",
                advice: "ç©¿æˆ´å»ºè®®ï¼šé»„è‰²ã€æ£•è‰²ã€å¡å…¶è‰²æ˜¯æ ¹åŸºä¹‹è‰²ã€‚ç”Ÿæ´»å»ºè®®ï¼šä½©æˆ´ç‰çŸ³æˆ–é»„æ°´æ™¶ã€‚é¥®é£Ÿåé‡æ ¹èŒç±»ï¼ˆå¦‚çº¢è–¯åœŸè±†ï¼‰ã€‚åšä»»ä½•äº‹éƒ½è¦è„šè¸å®åœ°ï¼ŒåŸ¹å…»ä¿¡ç”¨ã€‚å°½é‡å‡å°‘æ¬å®¶é¢‘ç‡ï¼Œåœ¨ä¸€ä¸ªé¢†åŸŸæ·±è€•æ˜¯æ‚¨çš„å¼€è¿ä¹‹é“ã€‚"
            }
        };
        return db[missing];
    }
</script>
</body>
</html>
